function sortTable(a,b,c){for(var d=document.getElementById(a),e=d.rows.length,f=1;e-1>f;f++){for(var g=f,h=f+1;e>h;h++)"inc"==c?d.rows[g].cells[b].innerHTML>d.rows[h].cells[b].innerHTML&&(g=h):d.rows[g].cells[b].innerHTML<d.rows[h].cells[b].innerHTML&&(g=h);g>f&&(tmp=d.rows[f].innerHTML,d.rows[f].innerHTML=d.rows[g].innerHTML,d.rows[g].innerHTML=tmp)}}function addEl(a,b,c){var d=document.getElementById(b);EventUtil.addHandler(d,"click",function(b){EventUtil.preventDefault(b);for(var e=document.getElementById(c),f=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null,!1),g=f.firstChild();null!==g;)g!==d&&(removeClass(g,"inc"),removeClass(g,"dec")),g=f.nextSibling();if(hasClass(d,"dec")){removeClass(d,"dec"),addClass(d,"inc");var h=itemIndex(d,c);sortTable(a,h,"inc")}else if(hasClass(d,"inc")){removeClass(d,"inc"),addClass(d,"dec");var h=itemIndex(d,c);sortTable(a,h,"dec")}else{addClass(d,"inc");var h=itemIndex(d,c);console.log(h),sortTable(a,h,"inc")}})}function addClass(a,b){this.hasClass(a,b)?a.className+=" "+b:a.className=b}function itemIndex(a,b){var c=document.getElementById(b),d=0;for(d=0;d<c.childNodes.length;d++)if(c.childNodes.item(d)==a)return(d-1)/2}function removeClass(a,b){if(hasClass(a,b)){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c,"")}}function hasClass(a,b){return a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))}var EventUtil={addHandler:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c},getEvent:function(a){return a?a:window.event},getTarget:function(a){return a.target||a.srcElement},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},removeHandler:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.derachEvent("on"+b,c):a["on"+b]=null},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():a.cancalBubble=!0}};window.onload=function(){addEl("todo","what","head"),addEl("todo","when","head"),addEl("todo","location","head"),addEl("staff","fn","staffhead"),addEl("staff","ln","staffhead"),addEl("staff","lc","staffhead")};